install.packages(c("tidyverse", "rmarkdown", "openVA", "rstan"))
library(rstan)
q('no')
library(vacalibration)
vacalibration
Mmat_champs
cause_map
q('no')
vacalibration
library(vacalibration)
cause_map
ls()
q('no')
vacalibration::cause_map
getwd()
setwd("GitHub/openVA")
dir(".")
load("data/NeonatalVA5.rda")
dir("data")
load('data/NeonatesVA5.rda')
ls()
library(openVA)
out <- codeVA(NeonatesVA5, model = "InterVA", version = "5", write = FALSE)
q('n'o)
q('no')
install.packages("usethis")
library(usethis)
git_sitrep()
gh_token_help()
usethis::git_sitrep()
install.packages(c("openVA", "vacalibration"))
library(openVA)
data("NeonatesVA5")
dim(NeonatesVA5)
out = codeVA(NeonatesVA5)
getwd()
remove.packages(c("openVA", "vacalibration"))
library(ggplot2)
library(dplyr)
library(gridExtra)
data(mpg)
names(mpg)
head(mpg)
mpg <- mpg %>% rename(man = manufacturer)
names(mpg)
p1 <- mpg %>%
mutate(yhat = yhat) %>%
pivot_longer(cols=c(yhat, cty), values_to="values", names_to="group") %>%
ggplot(aes(x = displ, y = values, color=group, shape=group)) +
geom_point()
p1 <- mpg %>%
mutate(yhat = yhat) %>%
ggplot(aes(x = displ, y = yhat, color="y_hat", shape="y_hat")) +
geom_point()
mod2 <- lm(cty ~ displ + as.factor(cyl) + year + as.factor(trans), data=mpg)
yhat <- predict(mod2)
p1 <- mpg %>%
mutate(yhat = yhat) %>%
ggplot(aes(x = displ, y = yhat, color="y_hat", shape="y_hat")) +
geom_point()
p1
p1 + geom_point(data=mpg, aes(x=displ, y=cty, color="observed", shape="observed")) +
guides(color=guide_legend(title="Points")) +
theme(legend.position = c(.8, .8))
p1 + geom_point(data=mpg, aes(x=displ, y=cty, color="observed", shape="observed")) +
guides(color=guide_legend(title="Legend"),
shape = "none") +
scale_color_manual(name="Legend", values=c("observed"="red", "y_hat"="green"))
scale_shape_manual(name="Legend", values=c(1, 2)) +
theme(legend.position = c(.8, .8), legend.title=element_blank())
p1 <- mpg %>%
mutate(yhat = yhat) %>%
pivot_longer(cols=c(yhat, cty), values_to="values", names_to="group") %>%
ggplot(aes(x = displ, y = values, color=group, shape=group)) +
geom_point()
mpg %>%
mutate(yhat = yhat) %>%
pivot_longer(cols=c(yhat, cty), values_to="values", names_to="group")
library(tidyr)
p1 <- mpg %>%
mutate(yhat = yhat) %>%
pivot_longer(cols=c(yhat, cty), values_to="values", names_to="group") %>%
ggplot(aes(x = displ, y = values, color=group, shape=group)) +
geom_point()
## Saving multiple plots to one file
my_plots <- list()
my_plots[[1]] <- p1
my_plots[[2]] <- p1
ggsave(
filename = "myplots.pdf",
plot = marrangeGrob(my_plots, nrow=1, ncol=1),
width = 15, height = 9
)
mod1 <- lm(cty ~ displ + as.factor(cyl), data = mpg)
summary(mod1)
fit1 <- predict(mod1, interval = "confidence", level = 0.90)
fit1
fit1.full <- cbind(mpg, fit1)
colnames(predict(mod1, interval = "confidence", level = 0.90))
ggplot(fit1.full, aes(x = displ, y = cty, color = as.factor(cyl))) +
geom_point() + geom_line(aes(y = fit)) +
geom_ribbon(aes(ymin = lwr, ymax = upr, fill = as.factor(cyl)), alpha = .2)
mod2 <- lm(cty ~ displ + as.factor(cyl) + year + as.factor(trans), data=mpg)
yhat <- predict(mod2)
mpg %>%
mutate(yhat = yhat) %>%
ggplot(aes(x = displ, y = yhat, color="y_hat", shape="y_hat")) +
geom_point()
yhat
?ggsave
?marrangeGrob
ggsave(
filename = "myplots.pdf",
plot = marrangeGrob(my_plots, nrow=1, ncol=1, top=NULL),
width = 15, height = 9
)
ggsave(
filename = "myplots.pdf",
plot = marrangeGrob(my_plots, nrow=1, ncol=1, top=""),
width = 15, height = 9
)
getwd()
ggsave(
filename = "myplots.pdf",
plot = marrangeGrob(my_plots, nrow=1, ncol=1, top=NULL),
width = 15, height = 9
)
setwd("~/School/IPR/Rgroup/ggplot2/2025_10_23")
table(mtcars$cyl)
names(mtcars)
getwd()
library(knitr)
library(emoji)
library(tidyverse)
library(DT)
library(viridis)
library(gridExtra)
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(tidy=FALSE, prompt=FALSE, error=TRUE,
fig.align = 'center', cache=TRUE)
data(mtcars)
p1 <- ggplot(mtcars, aes(x = mpg, y = wt, color = factor(cyl))) + geom_point()
p2 <- ggplot(mtcars, aes(x = mpg, y = hp, color = factor(cyl))) + geom_point()
p3 <- ggplot(mtcars, aes(x = mpg, y = disp, color = factor(cyl))) + geom_point()
## Saving multiple plots to one file
my_plots <- list()
my_plots[[1]] <- p1
my_plots[[2]] <- p2
my_plots[[3]] <- p3
ggsave(
filename = "myplots.pdf",
plot = marrangeGrob(my_plots,
# top=NULL,  # suppress page title
nrow=1, ncol=1),
width = 15, height = 9
)
rm(list=ls())
getwd()
